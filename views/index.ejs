<!DOCTYPE html>
<html lang="pt-br">

<head>
  <title><%= title %></title>
  <meta charset="UTF-8">
  <link rel='stylesheet' href='/bootstrap/css/bootstrap.min.css'/>
  <link rel='stylesheet' href='/stylesheets/style.css'/>
  <script type="text/javascript" src="/bootstrap/js/bootstrap.min.js'"></script>
  <script type="text/javascript" src="/javascripts/jquery-1.12.0.js"></script>
  <script type="text/javascript" src="/javascripts/validacao.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>
  <div class="cabeçalho">
      <h1>Cadastro de Clientes</h1>
  </div>
  
  <a href="/" class="btn btn-primary botao-home">HOME PAGE</a>

  <fieldset id="formCadastro">
    <legend class="cabeçalho">Cadastro</legend>
    <form action="/cadastrar-pessoa" method="POST" onsubmit="return validacao()">
      <div>
        <label for="nome">Nome: </label>
        <input type="text" name="nome" placeholder="Insira seu Nome" id="nome" class="form-control" />
      </div>
      <div>
        <label for="sobrenome">Sobrenome: </label>
        <input type="text" name="sobrenome" placeholder="Insira seu Sobrenome" id="sobrenome" class="form-control" />
      </div>
      <div>
        <label for="cpf">CPF: </label>
        <input type="text" name="cpf" placeholder="Insira seu CPF" id="cpf" class="form-control" pattern="[0-9]+$" />
        <small  class="form-text text-muted">
          Digite somente numeros
        </small>
      </div>
      <div>
        <label for="telefone">Telefone: </label>
        <input type="text" name="telefone" placeholder="Insira seu Telefone" id="telefone" class="form-control" />
      </div>
      <div>
        <label for="email">Email: </label>
        <input type="text" name="email" placeholder="Insira seu Email" id="email" class="form-control" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" />
        <small  class="form-text text-muted">
          Formato: usuario@exemplo.com
        </small>
      </div>
      <div>
        <label for="endereco">Endereço: </label>
        <input type="text" name="endereco" placeholder="Insira seu Endereço" id="endereco" class="form-control" />
      </div>
      <hr>
      <div id="btn_cadastrar">
        <input type="submit" value="Cadastrar" class="btn btn-success" />
      </div>
    </form>
  </fieldset>

  <fieldset id="formCadastro">
    <legend class="cabeçalho">Buscar</legend>
    <form action="/pesquisar" method="GET">

      <label for="nome">Nome: </label>

      <div class="botoes-pesquisa">
        <input type="text" name="nome" placeholder="Pesquise pelo Nome" id="nome" class="form-control" />
        <input type="submit" value="Buscar" class="btn btn-warning" />
      </div>

    </form>
  </fieldset>

  <fieldset>
    <legend class="cabeçalho">Clientes Cadastrados</legend>

    <div class="tabela-responsiva">
    <table border="1" id="registros" class="table table-striped table-bordered table-hover">
      <thead>
      <tr>
        <td>Nome</td>
        <td>Sobrenome</td>
        <td>CPF</td>
        <td>Telefone</td>
        <td>Email</td>
        <td>Endereço</td>
        <td><img src="/images/editar.png"></td>
        <td><img src="/images/excluir.png"></td>
      </tr>
    </thead>
      <% for(i=0; i<pessoas.length; i++){ %>
          <tr>
            <td><%= pessoas[i].nome %></td>
            <td><%= pessoas[i].sobrenome %></td>
            <td><%= pessoas[i].cpf %></td>
            <td><%= pessoas[i].telefone %></td>
            <td><%= pessoas[i].email %></td>
            <td><%= pessoas[i].endereco %></td>
            <td><a href="/alterar?cpf=<%= pessoas[i].cpf %>" class="btn btn-info btn-block">Alterar</a></td>
            <td><a href="#" onclick="excluirDados('<%= pessoas[i].cpf %>')" class="btn btn-danger btn-block">Excluir</a></td>
          </tr>
      <% } %>
    </table>
  </div>

  </fieldset>
</body>

</html>